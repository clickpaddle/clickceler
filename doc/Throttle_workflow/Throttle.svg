<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css" type="text/css"?>
<svg aria-roledescription="flowchart-v2" role="graphics-document document" viewBox="0 0 1187.4437255859375 2402.78759765625" style="max-width: 100%;" class="flowchart" xmlns="http://www.w3.org/2000/svg" width="100%" id="graph-351" height="100%" xmlns:xlink="http://www.w3.org/1999/xlink"><style>#graph-351{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#333;}@keyframes edge-animation-frame{from{stroke-dashoffset:0;}}@keyframes dash{to{stroke-dashoffset:0;}}#graph-351 .edge-animation-slow{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 50s linear infinite;stroke-linecap:round;}#graph-351 .edge-animation-fast{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 20s linear infinite;stroke-linecap:round;}#graph-351 .error-icon{fill:#552222;}#graph-351 .error-text{fill:#552222;stroke:#552222;}#graph-351 .edge-thickness-normal{stroke-width:1px;}#graph-351 .edge-thickness-thick{stroke-width:3.5px;}#graph-351 .edge-pattern-solid{stroke-dasharray:0;}#graph-351 .edge-thickness-invisible{stroke-width:0;fill:none;}#graph-351 .edge-pattern-dashed{stroke-dasharray:3;}#graph-351 .edge-pattern-dotted{stroke-dasharray:2;}#graph-351 .marker{fill:#333333;stroke:#333333;}#graph-351 .marker.cross{stroke:#333333;}#graph-351 svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#graph-351 p{margin:0;}#graph-351 .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#333;}#graph-351 .cluster-label text{fill:#333;}#graph-351 .cluster-label span{color:#333;}#graph-351 .cluster-label span p{background-color:transparent;}#graph-351 .label text,#graph-351 span{fill:#333;color:#333;}#graph-351 .node rect,#graph-351 .node circle,#graph-351 .node ellipse,#graph-351 .node polygon,#graph-351 .node path{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#graph-351 .rough-node .label text,#graph-351 .node .label text,#graph-351 .image-shape .label,#graph-351 .icon-shape .label{text-anchor:middle;}#graph-351 .node .katex path{fill:#000;stroke:#000;stroke-width:1px;}#graph-351 .rough-node .label,#graph-351 .node .label,#graph-351 .image-shape .label,#graph-351 .icon-shape .label{text-align:center;}#graph-351 .node.clickable{cursor:pointer;}#graph-351 .root .anchor path{fill:#333333!important;stroke-width:0;stroke:#333333;}#graph-351 .arrowheadPath{fill:#333333;}#graph-351 .edgePath .path{stroke:#333333;stroke-width:2.0px;}#graph-351 .flowchart-link{stroke:#333333;fill:none;}#graph-351 .edgeLabel{background-color:rgba(232,232,232, 0.8);text-align:center;}#graph-351 .edgeLabel p{background-color:rgba(232,232,232, 0.8);}#graph-351 .edgeLabel rect{opacity:0.5;background-color:rgba(232,232,232, 0.8);fill:rgba(232,232,232, 0.8);}#graph-351 .labelBkg{background-color:rgba(232, 232, 232, 0.5);}#graph-351 .cluster rect{fill:#ffffde;stroke:#aaaa33;stroke-width:1px;}#graph-351 .cluster text{fill:#333;}#graph-351 .cluster span{color:#333;}#graph-351 div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:hsl(80, 100%, 96.2745098039%);border:1px solid #aaaa33;border-radius:2px;pointer-events:none;z-index:100;}#graph-351 .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#333;}#graph-351 rect.text{fill:none;stroke-width:0;}#graph-351 .icon-shape,#graph-351 .image-shape{background-color:rgba(232,232,232, 0.8);text-align:center;}#graph-351 .icon-shape p,#graph-351 .image-shape p{background-color:rgba(232,232,232, 0.8);padding:2px;}#graph-351 .icon-shape rect,#graph-351 .image-shape rect{opacity:0.5;background-color:rgba(232,232,232, 0.8);fill:rgba(232,232,232, 0.8);}#graph-351 :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style><g><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="5" viewBox="0 0 10 10" class="marker flowchart-v2" id="graph-351_flowchart-v2-pointEnd"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 0 L 10 5 L 0 10 z"></path></marker><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="4.5" viewBox="0 0 10 10" class="marker flowchart-v2" id="graph-351_flowchart-v2-pointStart"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 5 L 10 10 L 10 0 z"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="11" viewBox="0 0 10 10" class="marker flowchart-v2" id="graph-351_flowchart-v2-circleEnd"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="-1" viewBox="0 0 10 10" class="marker flowchart-v2" id="graph-351_flowchart-v2-circleStart"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="12" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="graph-351_flowchart-v2-crossEnd"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="-1" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="graph-351_flowchart-v2-crossStart"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><g class="root"><g class="clusters"></g><g class="edgePaths"><path marker-end="url(#graph-351_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_Start_FindRules_0" d="M603.991,86L603.991,90.167C603.991,94.333,603.991,102.667,604.061,110.417C604.131,118.167,604.272,125.334,604.342,128.917L604.412,132.501"></path><path marker-end="url(#graph-351_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_FindRules_RejectEvent_0" d="M729.747,413.856L774.205,440.815C818.662,467.775,907.576,521.694,952.033,561.32C996.491,600.946,996.491,626.279,996.491,649.613C996.491,672.946,996.491,694.279,996.491,715.613C996.491,736.946,996.491,758.279,996.491,779.613C996.491,800.946,996.491,822.279,996.491,860.279C996.491,898.279,996.491,952.946,996.491,1009.613C996.491,1066.279,996.491,1124.946,1003.305,1178.471C1010.119,1231.996,1023.746,1280.379,1030.56,1304.571L1037.374,1328.762"></path><path marker-end="url(#graph-351_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_FindRules_SortRules_0" d="M539.915,474.537L531.837,491.383C523.758,508.229,507.601,541.921,499.522,564.267C491.444,586.613,491.444,597.613,491.444,603.113L491.444,608.613"></path><path marker-end="url(#graph-351_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_SortRules_ApplyRules_0" d="M491.444,690.613L491.444,694.779C491.444,698.946,491.444,707.279,491.444,714.946C491.444,722.613,491.444,729.613,491.444,733.113L491.444,736.613"></path><path marker-end="url(#graph-351_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_ApplyRules_CheckRuleDecision_0" d="M491.444,818.613L491.444,822.779C491.444,826.946,491.444,835.279,491.514,843.029C491.584,850.779,491.725,857.946,491.795,861.53L491.865,865.113"></path><path marker-end="url(#graph-351_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_CheckRuleDecision_CheckSendFirst_0" d="M491.944,1147.113L491.86,1153.196C491.777,1159.279,491.61,1171.446,491.602,1183.113C491.593,1194.779,491.742,1205.946,491.816,1211.529L491.89,1217.113"></path><path marker-end="url(#graph-351_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_CheckRuleDecision_RejectEvent_0" d="M598.345,1040.712L676.269,1064.529C754.193,1088.345,910.042,1135.979,985.852,1183.965C1061.662,1231.951,1057.433,1280.289,1055.319,1304.459L1053.204,1328.628"></path><path marker-end="url(#graph-351_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_CheckSendFirst_CheckLimitWindow_0" d="M400.538,1431.707L367.629,1453.024C334.721,1474.342,268.904,1516.977,236.07,1543.878C203.236,1570.779,203.385,1581.946,203.46,1587.529L203.534,1593.113"></path><path marker-end="url(#graph-351_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_CheckSendFirst_CheckSendLast_0" d="M583.35,1431.707L616.091,1453.024C648.833,1474.342,714.317,1516.977,747.139,1556.324C779.961,1595.671,780.121,1631.729,780.202,1649.758L780.282,1667.788"></path><path marker-end="url(#graph-351_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_CheckLimitWindow_DiscardRest_0" d="M186.946,1970.646L186.029,1979.503C185.112,1988.36,183.278,2006.074,182.361,2020.431C181.444,2034.788,181.444,2045.788,181.444,2051.288L181.444,2056.788"></path><path marker-end="url(#graph-351_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_CheckLimitWindow_AcceptEvent_0" d="M281.706,1909.169L294.436,1928.272C307.166,1947.375,332.627,1985.581,355.599,2010.521C378.57,2035.461,399.053,2047.134,409.294,2052.97L419.536,2058.807"></path><path marker-end="url(#graph-351_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_CheckSendLast_StoreEvent_0" d="M790.571,1902.341L792.383,1922.582C794.196,1942.823,797.82,1983.305,799.632,2009.046C801.444,2034.788,801.444,2045.788,801.444,2051.288L801.444,2056.788"></path><path marker-end="url(#graph-351_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_CheckSendLast_AcceptEvent_0" d="M732.084,1864.396L714.203,1890.961C696.322,1917.527,660.561,1970.657,632.439,2003.059C604.317,2035.461,583.835,2047.134,573.593,2052.97L563.352,2058.807"></path><path marker-end="url(#graph-351_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_AcceptEvent_LogAndSend_0" d="M491.444,2138.788L491.444,2142.954C491.444,2147.121,491.444,2155.454,491.444,2163.121C491.444,2170.788,491.444,2177.788,491.444,2181.288L491.444,2184.788"></path><path marker-end="url(#graph-351_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_LogAndSend_End_0" d="M491.444,2290.788L491.444,2294.954C491.444,2299.121,491.444,2307.454,530.011,2317.878C568.578,2328.302,645.712,2340.817,684.278,2347.074L722.845,2353.332"></path><path marker-end="url(#graph-351_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_RejectEvent_End_0" d="M1049.444,1410.613L1049.444,1435.446C1049.444,1460.279,1049.444,1509.946,1049.444,1573.46C1049.444,1636.975,1049.444,1714.338,1049.444,1791.7C1049.444,1869.063,1049.444,1946.425,1049.444,1997.773C1049.444,2049.121,1049.444,2074.454,1049.444,2097.788C1049.444,2121.121,1049.444,2142.454,1049.444,2165.788C1049.444,2189.121,1049.444,2214.454,1049.444,2239.788C1049.444,2265.121,1049.444,2290.454,1024.703,2308.538C999.963,2326.621,950.482,2337.455,925.742,2342.872L901.001,2348.289"></path></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g transform="translate(996.4906339645386, 779.6125183105469)" class="edgeLabel"><g transform="translate(-52.03125, -12)" class="label"><foreignObject height="24" width="104.0625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>No rules found</p></span></div></foreignObject></g></g><g transform="translate(491.4437589645386, 575.6125183105469)" class="edgeLabel"><g transform="translate(-42.70000076293945, -12)" class="label"><foreignObject height="24" width="85.4000015258789"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>Rules found</p></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g transform="translate(491.4437589645386, 1183.6125183105469)" class="edgeLabel"><g transform="translate(-30.23750114440918, -12)" class="label"><foreignObject height="24" width="60.47500228881836"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>Success</p></span></div></foreignObject></g></g><g transform="translate(1065.890634059906, 1183.6125183105469)" class="edgeLabel"><g transform="translate(-12.893750190734863, -12)" class="label"><foreignObject height="24" width="25.787500381469727"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>Fail</p></span></div></foreignObject></g></g><g transform="translate(203.08750915527344, 1559.6125183105469)" class="edgeLabel"><g transform="translate(-13.05625057220459, -12)" class="label"><foreignObject height="24" width="26.11250114440918"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>Yes</p></span></div></foreignObject></g></g><g transform="translate(779.8000087738037, 1559.6125183105469)" class="edgeLabel"><g transform="translate(-10.231249809265137, -12)" class="label"><foreignObject height="24" width="20.462499618530273"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>No</p></span></div></foreignObject></g></g><g transform="translate(181.44375896453857, 2023.7875366210938)" class="edgeLabel"><g transform="translate(-13.05625057220459, -12)" class="label"><foreignObject height="24" width="26.11250114440918"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>Yes</p></span></div></foreignObject></g></g><g transform="translate(358.08750915527344, 2023.7875366210938)" class="edgeLabel"><g transform="translate(-10.231249809265137, -12)" class="label"><foreignObject height="24" width="20.462499618530273"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>No</p></span></div></foreignObject></g></g><g transform="translate(801.4437589645386, 2023.7875366210938)" class="edgeLabel"><g transform="translate(-13.05625057220459, -12)" class="label"><foreignObject height="24" width="26.11250114440918"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>Yes</p></span></div></foreignObject></g></g><g transform="translate(624.8000087738037, 2023.7875366210938)" class="edgeLabel"><g transform="translate(-10.231249809265137, -12)" class="label"><foreignObject height="24" width="20.462499618530273"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>No</p></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(603.9906339645386, 47)" id="flowchart-Start-0" class="node default"><rect height="78" width="348.1875" y="-39" x="-174.09375" style="" class="basic label-container"></rect><g transform="translate(-144.09375, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="288.1875"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>handle_event_throttle(event(EventType, DictIn))\n(Event received)</p></span></div></foreignObject></g></g><g transform="translate(603.9906339645386, 337.30625915527344)" id="flowchart-FindRules-1" class="node default"><polygon transform="translate(-201.30625915527344,201.30625915527344)" class="label-container" points="201.30625915527344,0 402.6125183105469,-201.30625915527344 201.30625915527344,-402.6125183105469 0,-201.30625915527344"></polygon><g transform="translate(-162.30625915527344, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="324.6125183105469"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>findall throttle_rule_match/8\n(throttle_rule_match/8)</p></span></div></foreignObject></g></g><g transform="translate(1049.4437589645386, 1371.6125183105469)" id="flowchart-RejectEvent-3" class="node default"><rect height="78" width="260" y="-39" x="-130" style="" class="basic label-container"></rect><g transform="translate(-100, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Reject event\n(No matching rule)</p></span></div></foreignObject></g></g><g transform="translate(491.4437589645386, 651.6125183105469)" id="flowchart-SortRules-5" class="node default"><rect height="78" width="260" y="-39" x="-130" style="" class="basic label-container"></rect><g transform="translate(-100, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>sort/4\n(Sort rules by Priority desc)</p></span></div></foreignObject></g></g><g transform="translate(491.4437589645386, 779.6125183105469)" id="flowchart-ApplyRules-7" class="node default"><rect height="78" width="276.125" y="-39" x="-138.0625" style="" class="basic label-container"></rect><g transform="translate(-108.0625, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="216.125"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>apply_throttle_rules/2\n(Apply rules sequentially)</p></span></div></foreignObject></g></g><g transform="translate(491.4437589645386, 1007.6125183105469)" id="flowchart-CheckRuleDecision-9" class="node default"><polygon transform="translate(-139,139)" class="label-container" points="139,0 278,-139 139,-278 0,-139"></polygon><g transform="translate(-100, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Rule decision\n(success or fail)</p></span></div></foreignObject></g></g><g transform="translate(491.4437589645386, 1371.6125183105469)" id="flowchart-CheckSendFirst-11" class="node default"><polygon transform="translate(-151,151)" class="label-container" points="151,0 302,-151 151,-302 0,-151"></polygon><g transform="translate(-100, -36)" style="" class="label"><rect></rect><foreignObject height="72" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>send_first option enabled?\n(check send_first/last params)</p></span></div></foreignObject></g></g><g transform="translate(203.08750915527344, 1791.7000274658203)" id="flowchart-CheckLimitWindow-15" class="node default"><polygon transform="translate(-195.08750915527344,195.08750915527344)" class="label-container" points="195.08750915527344,0 390.1750183105469,-195.08750915527344 195.08750915527344,-390.1750183105469 0,-195.08750915527344"></polygon><g transform="translate(-144.08750915527344, -36)" style="" class="label"><rect></rect><foreignObject height="72" width="288.1750183105469"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Limit exceeded or\nwindow expired?\n(check limit_exceeded/2,\nwindow_exceeded/2)</p></span></div></foreignObject></g></g><g transform="translate(779.8000087738037, 1791.7000274658203)" id="flowchart-CheckSendLast-17" class="node default"><polygon transform="translate(-120.4124984741211,120.4124984741211)" class="label-container" points="120.4124984741211,0 240.8249969482422,-120.4124984741211 120.4124984741211,-240.8249969482422 0,-120.4124984741211"></polygon><g transform="translate(-93.4124984741211, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="186.8249969482422"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>send_last option enabled?</p></span></div></foreignObject></g></g><g transform="translate(181.44375896453857, 2099.7875366210938)" id="flowchart-DiscardRest-19" class="node default"><rect height="78" width="260" y="-39" x="-130" style="" class="basic label-container"></rect><g transform="translate(-100, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Discard remaining events\nStop processing</p></span></div></foreignObject></g></g><g transform="translate(491.4437589645386, 2099.7875366210938)" id="flowchart-AcceptEvent-21" class="node default"><rect height="78" width="260" y="-39" x="-130" style="" class="basic label-container"></rect><g transform="translate(-100, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Accept event\nContinue processing</p></span></div></foreignObject></g></g><g transform="translate(801.4437589645386, 2099.7875366210938)" id="flowchart-StoreEvent-23" class="node default"><rect height="78" width="260" y="-39" x="-130" style="" class="basic label-container"></rect><g transform="translate(-100, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>store_event/3\n(Store event, wait to send last)</p></span></div></foreignObject></g></g><g transform="translate(491.4437589645386, 2239.7875366210938)" id="flowchart-LogAndSend-27" class="node default"><rect height="102" width="347.76251220703125" y="-51" x="-173.88125610351562" style="" class="basic label-container"></rect><g transform="translate(-143.88125610351562, -36)" style="" class="label"><rect></rect><foreignObject height="72" width="287.76251220703125"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>log_event/1 +\nsafe_thread_send_message/2\n(Log &amp; send event to throttle_queue)</p></span></div></foreignObject></g></g><g transform="translate(811.9437589645386, 2367.7875366210938)" id="flowchart-End-29" class="node default"><rect height="54" width="170.3000030517578" y="-27" x="-85.1500015258789" style="" class="basic label-container"></rect><g transform="translate(-55.150001525878906, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="110.30000305175781"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>End processing</p></span></div></foreignObject></g></g></g></g></g></svg>